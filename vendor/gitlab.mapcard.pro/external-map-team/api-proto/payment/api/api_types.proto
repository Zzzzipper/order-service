syntax="proto3";

package payment.api;

option go_package = "gitlab.mapcard.pro/external-map-team/api-proto/payment/api;api";

message Response {
  // Признак успешности выполнения операции
  bool Success = 1;

  // Код ошибки (в случае ее наличия)
  string ErrCode = 2;		

  // Описание ошибки
  string ErrMessage = 3;

  // Внутренний индекс заказа
  uint64 OrderId = 4;			

  // Сумма операции
  uint64 Amount = 5;

  // Уникальный идентификатор банковской транзакции
  string Rrn = 6;

  // URL службы подтвердждения
  string AcsUrl = 7;

  // Запрос на оплату
  string Pareq = 8;
}

message Buyer {
  // ФИО покупателя
  string full_name = 1;	

  // Адрес электронной почты
  string email = 2;  

  // Номер телефона
  string phone = 3;  

  // Имя
  string first_name = 4; 

  // Фамилия
  string last_name = 5;  

  // Отчество
  string middle_name = 6;  

  // Дата рождения
  string birth = 7;

  // Улица
  string street = 8;

  // Номер дома, квартира
  string address = 9;  

  // Город проживания
  string city = 10; 

  // Страна проживания
  string country = 11; 

  // Почтовый индекс
  string postcode = 12;

}

message Item {
  // Наименование товара/услуги, не более 128 символов
  string name = 1;	
  
  // Сумма блокировки в минимальных единицах валюты (копейках)
  uint32 price = 2;	

  // Ставка НДС. Целое число от 1 до 6. В случае отсутствия в запросе, значение берется из настроек терминала"
  // 1 – ставка НДС 20%
  // 2 – ставка НДС 10%
  // 3 – ставка НДС расч. 20/120
  // 4 – ставка НДС расч. 10/110
  // 5 – ставка НДС 0%
  // 6 – НДС не облагается
  uint32 tax = 3;	

  // Признак предмета расчета. Целое число от 1 до 13. Параметр не обязательный, 
  // в случае отсутствия в запросе, будет передано значение 1 – Товар."
  // 1 – Товар
  // 2 – Подакцизный товар
  // 3 – Работа
  // 4 – Услуга
  // 5 – Ставка азартной игры
  // 6 – Выигрыш азартной игры
  // 7 – Лотерейный билет
  // 8 – Выигрыш лотереи
  // 9 – Предоставление РИД
  // 10 - Платеж
  // 11 – Агентское вознаграждение
  // 12 – Выплата
  // 13 – Иной предмет расчета
  uint32 payment_subject_type = 4;	

}

message AuthRequest {
  // Партнерский ключ доступа к API
  string api_key = 1; 
}

message PayRequest {
  // Order order = 1;
}

message Payment {
  string id = 1;
}

message PaymentToken {
  // Тип токена
  string type = 1;	

  // Данные токена
  string data = 2;	
}

message Credential {
  // Логин держателя карты, зарегистрированного в системе Продавца. 
  // Используются только в случае, если карта сохранена к конкретному пользователю
  string login = 1;	

  // Пароль держателя карты, зарегистрированного в системе Продавца. 
  // Используются только в случае, если карта сохранена к конкретному пользователю
  string password = 2;

  // Наименование продавца. Используются только в случае, если карта сохранена за Мерчантом
  string merchant_name = 3;

  // Пароль Мерчанта для совершения операций. 
  // Используются только в случае, если карта сохранена за Мерчантом
  string merchant_password = 4;

  // Пароль терминала для совершения операций. 
  // Используются только в случае, если карта сохранена за терминалом
  string terminal_password = 5;
}

message PayoutInfo {
  // Номер карты для зачисления средств, обязательный при операция C2C
  string pan = 1;
}

message Split {
  // Номер терминала для проведения операции
  uint32 split_terminal_id = 1;

  // Сумма разделения
  uint32 amount = 2;

  // Описание
  string purpose = 3;

  // Размер комиссии
  uint32 fee = 4;
}

message PayoutRequest {
} 

message PayoutHandler {
  string id = 1;
}

message VoidHandler {
  string id = 1;
}

message RefundHandler {
  string id = 1;
}

message OrderStatus {
  string status = 1;
}

message Empty {

}

